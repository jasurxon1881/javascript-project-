{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jasurkhonmisirov/Desktop/e-learning-master/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jasurkhonmisirov/Desktop/e-learning-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useCallback}from\"react\";var BASE_URL=process.env.REACT_APP_URL;var useRequest=function useRequest(){var request=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var _ref$baseurl,baseurl,_ref$url,url,_ref$method,method,_ref$body,body,_ref$headers,headers,_ref$includeToken,includeToken,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_ref$baseurl=_ref.baseurl,baseurl=_ref$baseurl===void 0?BASE_URL:_ref$baseurl,_ref$url=_ref.url,url=_ref$url===void 0?\"\":_ref$url,_ref$method=_ref.method,method=_ref$method===void 0?\"GET\":_ref$method,_ref$body=_ref.body,body=_ref$body===void 0?null:_ref$body,_ref$headers=_ref.headers,headers=_ref$headers===void 0?{}:_ref$headers,_ref$includeToken=_ref.includeToken,includeToken=_ref$includeToken===void 0?true:_ref$includeToken;_context.prev=1;if(body){body=JSON.stringify(body);headers[\"Content-Type\"]=\"application/json\";}_context.next=5;return fetch(\"\".concat(baseurl,\"api/\").concat(url),{method:method,headers:headers,body:body});case 5:response=_context.sent;_context.next=8;return response.json();case 8:data=_context.sent;return _context.abrupt(\"return\",data);case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);console.log(_context.t0,\"msg\");case 15:case\"end\":return _context.stop();}},_callee,null,[[1,12]]);}));return function(_x){return _ref2.apply(this,arguments);};}(),[]);return{request:request};};export default useRequest;","map":{"version":3,"names":["useCallback","BASE_URL","process","env","REACT_APP_URL","useRequest","request","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","_ref$baseurl","baseurl","_ref$url","url","_ref$method","method","_ref$body","body","_ref$headers","headers","_ref$includeToken","includeToken","response","data","wrap","_callee$","_context","prev","next","JSON","stringify","fetch","concat","sent","json","abrupt","t0","console","log","stop","_x","apply","arguments"],"sources":["/Users/jasurkhonmisirov/Desktop/e-learning-master/src/hooks/useRequest.js"],"sourcesContent":["import { useCallback } from \"react\";\n\nconst BASE_URL = process.env.REACT_APP_URL;\nconst useRequest = () => {\n  const request = useCallback(\n    async ({\n      baseurl = BASE_URL,\n      url = \"\",\n      method = \"GET\",\n      body = null,\n      headers = {},\n      includeToken = true,\n    }) => {\n      try {\n        if (body) {\n          body = JSON.stringify(body);\n          headers[\"Content-Type\"] = \"application/json\";\n        }\n\n        const response = await fetch(`${baseurl}api/${url}`, {\n          method: method,\n          headers,\n          body,\n        });\n        const data = await response.json();\n        return data;\n      } catch (error) {\n        console.log(error, \"msg\");\n      }\n    },\n    []\n  );\n  return { request };\n};\n\nexport default useRequest;\n"],"mappings":"8RAAA,OAASA,WAAW,KAAQ,OAAO,CAEnC,GAAM,CAAAC,QAAQ,CAAGC,OAAO,CAACC,GAAG,CAACC,aAAa,CAC1C,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvB,GAAM,CAAAC,OAAO,CAAGN,WAAW,6BAAAO,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACzB,SAAAC,QAAAC,IAAA,MAAAC,YAAA,CAAAC,OAAA,CAAAC,QAAA,CAAAC,GAAA,CAAAC,WAAA,CAAAC,MAAA,CAAAC,SAAA,CAAAC,IAAA,CAAAC,YAAA,CAAAC,OAAA,CAAAC,iBAAA,CAAAC,YAAA,CAAAC,QAAA,CAAAC,IAAA,QAAAjB,mBAAA,GAAAkB,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAlB,YAAA,CAAAD,IAAA,CACEE,OAAO,CAAPA,OAAO,CAAAD,YAAA,UAAGZ,QAAQ,CAAAY,YAAA,CAAAE,QAAA,CAAAH,IAAA,CAClBI,GAAG,CAAHA,GAAG,CAAAD,QAAA,UAAG,EAAE,CAAAA,QAAA,CAAAE,WAAA,CAAAL,IAAA,CACRM,MAAM,CAANA,MAAM,CAAAD,WAAA,UAAG,KAAK,CAAAA,WAAA,CAAAE,SAAA,CAAAP,IAAA,CACdQ,IAAI,CAAJA,IAAI,CAAAD,SAAA,UAAG,IAAI,CAAAA,SAAA,CAAAE,YAAA,CAAAT,IAAA,CACXU,OAAO,CAAPA,OAAO,CAAAD,YAAA,UAAG,CAAC,CAAC,CAAAA,YAAA,CAAAE,iBAAA,CAAAX,IAAA,CACZY,YAAY,CAAZA,YAAY,CAAAD,iBAAA,UAAG,IAAI,CAAAA,iBAAA,CAAAM,QAAA,CAAAC,IAAA,GAGjB,GAAIV,IAAI,CAAE,CACRA,IAAI,CAAGY,IAAI,CAACC,SAAS,CAACb,IAAI,CAAC,CAC3BE,OAAO,CAAC,cAAc,CAAC,CAAG,kBAAkB,CAC9C,CAACO,QAAA,CAAAE,IAAA,SAEsB,CAAAG,KAAK,IAAAC,MAAA,CAAIrB,OAAO,SAAAqB,MAAA,CAAOnB,GAAG,EAAI,CACnDE,MAAM,CAAEA,MAAM,CACdI,OAAO,CAAPA,OAAO,CACPF,IAAI,CAAJA,IACF,CAAC,CAAC,QAJIK,QAAQ,CAAAI,QAAA,CAAAO,IAAA,CAAAP,QAAA,CAAAE,IAAA,SAKK,CAAAN,QAAQ,CAACY,IAAI,CAAC,CAAC,QAA5BX,IAAI,CAAAG,QAAA,CAAAO,IAAA,QAAAP,QAAA,CAAAS,MAAA,UACHZ,IAAI,UAAAG,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAU,EAAA,CAAAV,QAAA,aAEXW,OAAO,CAACC,GAAG,CAAAZ,QAAA,CAAAU,EAAA,CAAQ,KAAK,CAAC,CAAC,yBAAAV,QAAA,CAAAa,IAAA,MAAA/B,OAAA,iBAE7B,mBAAAgC,EAAA,SAAApC,KAAA,CAAAqC,KAAA,MAAAC,SAAA,QACD,EACF,CAAC,CACD,MAAO,CAAEvC,OAAO,CAAPA,OAAQ,CAAC,CACpB,CAAC,CAED,cAAe,CAAAD,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}