{"ast":null,"code":"import _objectSpread from\"/Users/jasurkhonmisirov/Desktop/e-learning-master/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";// import TextField from \"@mui/material/TextField\";\n// import { Button } from \"@mui/material\";\nimport{Container}from\"./style\";import{NavLink,useNavigate}from\"react-router-dom\";// import useRequest from '../../hooks/useRequest';\n// import CircularProgress from \"@mui/material/CircularProgress\";\nimport{Formik,ErrorMessage}from\"formik\";import*as Yup from\"yup\";import{Button,Input,message}from\"antd\";import useRequest from\"../../hooks/useRequest\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _useRequest=useRequest(),request=_useRequest.request;var navigate=useNavigate();var handleSubmit=function handleSubmit(values,_ref){var resetForm=_ref.resetForm;request({url:\"user/register\",method:\"post\",body:values,includeToken:false}).then(function(res){if(res!==null&&res!==void 0&&res.token){message.success(\"User Created!\");navigate(\"/login\");}else{message.error(res);}resetForm();});};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Formik,{initialValues:{email:\"\",password:\"\",name:\"\"},validationSchema:Yup.object({password:Yup.string().min(3,\"Password should be of minimum 3 characters length\").required(\"Required\"),email:Yup.string().email(\"Enter a valid email\").required(\"Required\")}),onSubmit:handleSubmit,children:function children(formik){return/*#__PURE__*/_jsxs(Container.Form,{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(Container.Title,{children:\"Register\"}),/*#__PURE__*/_jsx(Input,_objectSpread({label:\"Name\",type:\"text\",name:\"name\",placeholder:\"Name\"},formik.getFieldProps(\"name\"))),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({label:\"Email\",type:\"email\",autoComplete:\"current-email\",placeholder:\"Email\"},formik.getFieldProps(\"email\")),{},{name:\"email\"})),/*#__PURE__*/_jsx(ErrorMessage,{name:\"email\",children:function children(msg){return/*#__PURE__*/_jsxs(\"div\",{style:{color:\"red\",fontSize:\"12px\"},children:[\"Email \",msg]});}}),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({label:\"Password\",type:\"password\",autoComplete:\"current-password\",placeholder:\"Password\"},formik.getFieldProps(\"password\")),{},{name:\"password\"})),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",children:function children(msg){return/*#__PURE__*/_jsxs(\"div\",{style:{color:\"red\",fontSize:\"12px\"},children:[\"Password \",msg]});}}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-login\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/login\",children:\"LogIn\"})}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:\"Submit\"})]});}})});};export default Register;","map":{"version":3,"names":["React","Container","NavLink","useNavigate","Formik","ErrorMessage","Yup","Button","Input","message","useRequest","jsx","_jsx","jsxs","_jsxs","Register","_useRequest","request","navigate","handleSubmit","values","_ref","resetForm","url","method","body","includeToken","then","res","token","success","error","children","initialValues","email","password","name","validationSchema","object","string","min","required","onSubmit","formik","Form","Title","_objectSpread","label","type","placeholder","getFieldProps","autoComplete","msg","style","color","fontSize","className","to","htmlType"],"sources":["/Users/jasurkhonmisirov/Desktop/e-learning-master/src/components/Register/index.jsx"],"sourcesContent":["import React from \"react\";\n// import TextField from \"@mui/material/TextField\";\n// import { Button } from \"@mui/material\";\nimport { Container } from \"./style\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\n// import useRequest from '../../hooks/useRequest';\n// import CircularProgress from \"@mui/material/CircularProgress\";\nimport { Formik, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { Button, Input, message } from \"antd\";\nimport useRequest from \"../../hooks/useRequest\";\n\nconst Register = () => {\n  const { request } = useRequest();\n  const navigate = useNavigate();\n  const handleSubmit = (values, { resetForm }) => {\n    request({\n      url: \"user/register\",\n      method: \"post\",\n      body: values,\n      includeToken: false,\n    }).then((res) => {\n      if (res?.token) {\n        message.success(\"User Created!\");\n        navigate(\"/login\");\n      } else {\n        message.error(res);\n      }\n      resetForm();\n    });\n  };\n  return (\n    <Container>\n      <Formik\n        initialValues={{\n          email: \"\",\n          password: \"\",\n          name: \"\",\n        }}\n        validationSchema={Yup.object({\n          password: Yup.string()\n            .min(3, \"Password should be of minimum 3 characters length\")\n            .required(\"Required\"),\n          email: Yup.string().email(\"Enter a valid email\").required(\"Required\"),\n        })}\n        onSubmit={handleSubmit}\n      >\n        {(formik) => (\n          <Container.Form onSubmit={formik.handleSubmit}>\n            <Container.Title>Register</Container.Title>\n\n            <Input\n              label=\"Name\"\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"Name\"\n              {...formik.getFieldProps(\"name\")}\n            />\n            <Input\n              label=\"Email\"\n              type=\"email\"\n              autoComplete=\"current-email\"\n              placeholder=\"Email\"\n              {...formik.getFieldProps(\"email\")}\n              name=\"email\"\n            />\n            <ErrorMessage name=\"email\">\n              {(msg) => (\n                <div style={{ color: \"red\", fontSize: \"12px\" }}>\n                  Email {msg}\n                </div>\n              )}\n            </ErrorMessage>\n            <Input\n              label=\"Password\"\n              type=\"password\"\n              autoComplete=\"current-password\"\n              placeholder=\"Password\"\n              {...formik.getFieldProps(\"password\")}\n              name=\"password\"\n            />\n            <ErrorMessage name=\"password\">\n              {(msg) => (\n                <div style={{ color: \"red\", fontSize: \"12px\" }}>\n                  Password {msg}\n                </div>\n              )}\n            </ErrorMessage>\n            <div className=\"nav-login\">\n              <NavLink to=\"/login\">LogIn</NavLink>\n            </div>\n            <Button type=\"primary\" htmlType=\"submit\">\n              Submit\n            </Button>\n          </Container.Form>\n        )}\n      </Formik>\n    </Container>\n  );\n};\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}