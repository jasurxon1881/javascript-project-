{"ast":null,"code":"var _jsxFileName = \"/Users/jasurkhonmisirov/Desktop/e-learning-master/src/components/Login/index.jsx\",\n  _s = $RefreshSig$();\nimport { Container } from \"../Register/style\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport { Formik, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { Button, Input, message } from \"antd\";\nimport useRequest from \"../../hooks/useRequest\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../context/Auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [, dispatch] = useContext(AuthContext);\n  const navigate = useNavigate();\n  const {\n    request\n  } = useRequest();\n  const handleSubmit = async values => {\n    request({\n      url: \"user/login\",\n      method: \"post\",\n      body: values,\n      includeToken: false\n    }).then(res => {\n      if (res !== null && res !== void 0 && res.token) {\n        message.success(\"Successfully Login In!\");\n        dispatch({\n          type: \"register\",\n          payload: res === null || res === void 0 ? void 0 : res.token\n        });\n        navigate(\"/\");\n      } else {\n        message.error(res);\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        email: \"\",\n        password: \"\"\n      },\n      validationSchema: Yup.object({\n        password: Yup.string().min(3, \"Password should be of minimum 3 characters length\").required(\"Required\"),\n        email: Yup.string().email(\"Enter a valid email\").required(\"Required\")\n      }),\n      onSubmit: handleSubmit,\n      children: formik => /*#__PURE__*/_jsxDEV(Container.Form, {\n        onSubmit: formik.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Container.Title, {\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Container.Text, {\n          children: \"Welcome Back. Login to continue your learning.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          label: \"Email\",\n          type: \"email\",\n          autoComplete: \"current-email\",\n          ...formik.getFieldProps(\"email\"),\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"email\",\n          children: msg => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"red\",\n              fontSize: \"12px\"\n            },\n            children: [\"Email \", msg]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          label: \"Password\",\n          type: \"password\",\n          autoComplete: \"current-password\",\n          ...formik.getFieldProps(\"password\"),\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"password\",\n          children: msg => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"red\",\n              fontSize: \"12px\"\n            },\n            children: [\"Password \", msg]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-login\",\n          children: /*#__PURE__*/_jsxDEV(NavLink, {\n            to: \"/register\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          htmlType: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"hek/sXKq9dFSyaQgfthf9Y+klnI=\", false, function () {\n  return [useNavigate, useRequest];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Container","NavLink","useNavigate","Formik","ErrorMessage","Yup","Button","Input","message","useRequest","useContext","AuthContext","jsxDEV","_jsxDEV","Login","_s","dispatch","navigate","request","handleSubmit","values","url","method","body","includeToken","then","res","token","success","type","payload","error","children","initialValues","email","password","validationSchema","object","string","min","required","onSubmit","formik","Form","Title","fileName","_jsxFileName","lineNumber","columnNumber","Text","label","autoComplete","getFieldProps","name","msg","style","color","fontSize","className","to","htmlType","_c","$RefreshReg$"],"sources":["/Users/jasurkhonmisirov/Desktop/e-learning-master/src/components/Login/index.jsx"],"sourcesContent":["import { Container } from \"../Register/style\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport { Formik, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { Button, Input, message } from \"antd\";\nimport useRequest from \"../../hooks/useRequest\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../context/Auth\";\n\nconst Login = () => {\n  const [, dispatch] = useContext(AuthContext);\n\n  const navigate = useNavigate();\n  const { request } = useRequest();\n\n  const handleSubmit = async (values) => {\n    request({\n      url: \"user/login\",\n      method: \"post\",\n      body: values,\n      includeToken: false,\n    }).then((res) => {\n      if (res?.token) {\n        message.success(\"Successfully Login In!\");\n\n        dispatch({ type: \"register\", payload: res?.token });\n        navigate(\"/\");\n      } else {\n        message.error(res);\n      }\n    });\n  };\n  return (\n    <Container>\n      <Formik\n        initialValues={{\n          email: \"\",\n          password: \"\",\n        }}\n        validationSchema={Yup.object({\n          password: Yup.string()\n            .min(3, \"Password should be of minimum 3 characters length\")\n            .required(\"Required\"),\n          email: Yup.string().email(\"Enter a valid email\").required(\"Required\"),\n        })}\n        onSubmit={handleSubmit}\n      >\n        {(formik) => (\n          <Container.Form onSubmit={formik.handleSubmit}>\n            <Container.Title>Log In</Container.Title>\n            <Container.Text>\n              Welcome Back. Login to continue your learning.\n            </Container.Text>\n            <Input\n              label=\"Email\"\n              type=\"email\"\n              autoComplete=\"current-email\"\n              {...formik.getFieldProps(\"email\")}\n              name=\"email\"\n            />\n            <ErrorMessage name=\"email\">\n              {(msg) => (\n                <div style={{ color: \"red\", fontSize: \"12px\" }}>\n                  Email {msg}\n                </div>\n              )}\n            </ErrorMessage>\n\n            <Input\n              label=\"Password\"\n              type=\"password\"\n              autoComplete=\"current-password\"\n              {...formik.getFieldProps(\"password\")}\n              name=\"password\"\n            />\n            <ErrorMessage name=\"password\">\n              {(msg) => (\n                <div style={{ color: \"red\", fontSize: \"12px\" }}>\n                  Password {msg}\n                </div>\n              )}\n            </ErrorMessage>\n            <div className=\"nav-login\">\n              <NavLink to=\"/register\">Register</NavLink>\n            </div>\n            <Button type=\"primary\" htmlType=\"submit\">\n              Submit\n            </Button>\n          </Container.Form>\n        )}\n      </Formik>\n    </Container>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}